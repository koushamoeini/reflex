# پروژه Reflex - کوشا معینی، آرمان آریان‌پور، پارسا غلامی

## شماره دانشجویی
* 401100228 -- کوشا معینی
* 401170072 -- آرمان آریان‌پور
* 401100477 -- پارسا غلامی

## توضیحات
این پروژه پیاده‌سازی پروتکل امن و پنهان‌گر Reflex در هسته Xray است که در قالب یک کار تیمی  مرحله‌ای طراحی و اجرا شده است. ما پروتکلی پیاده کردیم که با استفاده از هندشیک مخفی، رمزنگاری AEAD (ChaCha20-Poly1305) و قابلیت Fallback هوشمند، از شناسایی توسط سیستم‌های DPI جلوگیری می‌کند و ترافیک را شبیه به پروتکل‌های رایج شبکه نمایش می‌دهد.

## نحوه اجرا
برای اجرای پروژه و بیلد کردن هسته Xray، ابتدا باید پیش‌نیازهای Go را نصب داشته باشید:
1. ابتدا به مسیر `xray-core/main` بروید.
2. با دستور `go build -o xray` پروژه را بیلد کنید.
3. فایل کانفیگ نمونه `config.example.json` را بر اساس نیاز خود تنظیم کرده و با دستور زیر اجرا کنید:
```bash
./xray -config ../../config.example.json
```

## مشکلات و راه‌حل‌ها
یکی از بزرگترین چالش‌های ما پیاده‌سازی مکانیزم Fallback بود؛ به شکلی که سرور بدون لو رفتن، ترافیک نامربوط را به یک وب‌سرور دیگر پاس دهد. برای حل این مشکل از `bufio.Peek` استفاده کردیم تا قبل از خواندن کامل بافر، هویت پکت را تشخیص دهیم. چالش دیگر، هماهنگ کردن سیستم تست‌های یکپارچگی با پایپلین CI/CD اساتید بود که با تنظیم دقیق مسیرهای دسترسی و پورت‌های محلی در فایل‌های تست حل شد.
